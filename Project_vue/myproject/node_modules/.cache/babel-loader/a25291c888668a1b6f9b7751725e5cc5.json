{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/\\u5C39\\u6728\\u661F\\u8FB0/Desktop/Vue_project/Project_vue/myproject/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"regenerator-runtime/runtime.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"\",\n  data: function data() {\n    return {\n      //响应式数据，用于收集表单元素文本内容\n      keyword: \"\"\n    };\n  },\n  methods: {\n    //搜索按钮的事件处理函数，用于跳转到search路由组件当中\n    goSearch: function goSearch() {\n      //代表的是如果有query参数也带过去\n      if (this.$route.query) {\n        var loction = {\n          name: \"search\",\n          params: {\n            keyword: this.keyword || undefined\n          }\n        };\n        loction.query = this.$route.query;\n        this.$router.push(loction);\n      }\n    },\n    //退出登录\n    logout: function logout() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return _this.$store.dispatch('userLogout');\n\n              case 3:\n                //回到首页\n                _this.$router.push('/home');\n\n                _context.next = 8;\n                break;\n\n              case 6:\n                _context.prev = 6;\n                _context.t0 = _context[\"catch\"](0);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 6]]);\n      }))();\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    //通过全局事件总线清除关键字\n    this.$bus.$on(\"clear\", function () {\n      _this2.keyword = \"\";\n    });\n  },\n  computed: {\n    //用户名信息\n    userName: function userName() {\n      return this.$store.state.user.userInfo.name;\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;AACAA,UADA;AAEAC,MAFA,kBAEA;AACA;AACA;AACAC;AAFA;AAIA,GAPA;AAQAC;AACA;AACAC,YAFA,sBAEA;AACA;AACA;AACA;AACAJ,wBADA;AAEAK;AAAAH;AAAA;AAFA;AAIAI;AACA;AACA;AACA,KAZA;AAaA;AACAC,UAdA,oBAcA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAMA,mCANA;;AAAA;AAOA;AACA;;AARA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AA1BA,GARA;AAoCAC,SApCA,qBAoCA;AAAA;;AACA;AACA;AACA;AACA,KAFA;AAGA,GAzCA;AA0CAC;AACA;AACAC,YAFA,sBAEA;AACA;AACA;AAJA;AA1CA","names":["name","data","keyword","methods","goSearch","params","loction","logout","mounted","computed","userName"],"sourceRoot":"src/components/Header","sources":["index.vue"],"sourcesContent":["<template>\n  <header class=\"header\">\n    <!-- 头部的第一行 -->\n    <div class=\"top\">\n      <div class=\"container\">\n        <div class=\"loginList\">\n          <p>尚品汇欢迎您！</p>\n          <!-- 没有用户名：未登录 -->\n          <p v-if=\"!userName\">\n            <span>请</span>\n            <!-- 声明式导航：router-link务必要有to属性 -->\n            <router-link to=\"/login\">登录</router-link>\n            <router-link class=\"register\" to=\"/register\">免费注册</router-link>\n          </p>\n          <!-- 登录了 -->\n          <p v-else>\n                <a>{{userName}}</a>\n                <a class=\"register\" @click=\"logout\">退出登录</a>\n          </p>\n        </div>\n        <div class=\"typeList\">\n          <router-link to=\"/center/myorder\">我的订单</router-link>\n          <router-link to=\"/shopcart\">我的购物车</router-link>\n          <a href=\"###\">我的尚品汇</a>\n          <a href=\"###\">尚品汇会员</a>\n          <a href=\"###\">企业采购</a>\n          <a href=\"###\">关注尚品汇</a>\n          <a href=\"###\">合作招商</a>\n          <a href=\"###\">商家后台</a>\n        </div>\n      </div>\n    </div>\n    <!--头部第二行 搜索区域-->\n    <div class=\"bottom\">\n      <h1 class=\"logoArea\">\n        <!-- router-link组件本省就是一个a标签 -->\n        <router-link to=\"/home\" class=\"logo\">\n          <img src=\"./images/logo.png\" alt=\"\" />\n        </router-link>\n      </h1>\n      <div class=\"searchArea\">\n        <form action=\"###\" class=\"searchForm\">\n          <input\n            type=\"text\"\n            id=\"autocomplete\"\n            class=\"input-error input-xxlarge\"\n            v-model=\"keyword\"\n          />\n          <button\n            class=\"sui-btn btn-xlarge btn-danger\"\n            type=\"button\"\n            @click=\"goSearch\"\n          >\n            搜索\n          </button>\n        </form>\n      </div>\n    </div>\n  </header>\n</template>\n\n<script>\nexport default {\n  name: \"\",\n  data() {\n    return {\n      //响应式数据，用于收集表单元素文本内容\n      keyword: \"\",\n    };\n  },\n  methods: {\n    //搜索按钮的事件处理函数，用于跳转到search路由组件当中\n    goSearch() {\n      //代表的是如果有query参数也带过去\n      if (this.$route.query) {\n        let loction = {\n          name: \"search\",\n          params: { keyword: this.keyword || undefined },\n        };\n        loction.query = this.$route.query;\n        this.$router.push(loction);\n      }\n    },\n    //退出登录\n    async logout(){\n      //退出登录需要做的事情\n      //1:需要发请求，通知服务器退出登录【清除一些数据：token】\n      //2:清除项目当中的数据【userInfo、token】\n        try {\n          //如果退出成功\n          await this.$store.dispatch('userLogout');\n          //回到首页\n          this.$router.push('/home');\n        } catch (error) {\n          \n        }\n    }\n  },\n  mounted() {\n    //通过全局事件总线清除关键字\n    this.$bus.$on(\"clear\", () => {\n      this.keyword = \"\";\n    });\n  },\n  computed:{\n    //用户名信息\n    userName(){\n      return this.$store.state.user.userInfo.name;\n    }\n  }\n};\n</script>\n\n<style>\n.outer .header > .top {\n  background-color: #eaeaea;\n  height: 30px;\n  line-height: 30px;\n}\n.outer .header > .top .container {\n  width: 1200px;\n  margin: 0 auto;\n  overflow: hidden;\n}\n.outer .header > .top .container .loginList {\n  float: left;\n}\n.outer .header > .top .container .loginList p {\n  float: left;\n  margin-right: 10px;\n}\n.outer .header > .top .container .loginList p .register {\n  border-left: 1px solid #b3aeae;\n  padding: 0 5px;\n  margin-left: 5px;\n}\n.outer .header > .top .container .typeList {\n  float: right;\n}\n.outer .header > .top .container .typeList a {\n  padding: 0 10px;\n}\n.outer .header > .top .container .typeList a + a {\n  border-left: 1px solid #b3aeae;\n}\n.outer .header > .bottom {\n  width: 1200px;\n  margin: 0 auto;\n  overflow: hidden;\n}\n.outer .header > .bottom .logoArea {\n  float: left;\n}\n.outer .header > .bottom .logoArea .logo img {\n  width: 175px;\n  margin: 25px 45px;\n}\n.outer .header > .bottom .searchArea {\n  float: right;\n  margin-top: 35px;\n}\n.outer .header > .bottom .searchArea .searchForm {\n  overflow: hidden;\n}\n.outer .header > .bottom .searchArea .searchForm input {\n  box-sizing: border-box;\n  width: 490px;\n  height: 32px;\n  padding: 0px 4px;\n  border: 2px solid #ea4a36;\n  float: left;\n}\n.outer .header > .bottom .searchArea .searchForm input:focus {\n  outline: none;\n}\n.outer .header > .bottom .searchArea .searchForm button {\n  height: 32px;\n  width: 68px;\n  background-color: #ea4a36;\n  border: none;\n  color: #fff;\n  float: left;\n  cursor: pointer;\n}\n.outer .header > .bottom .searchArea .searchForm button:focus {\n  outline: none;\n}\n</style>"]},"metadata":{},"sourceType":"module"}